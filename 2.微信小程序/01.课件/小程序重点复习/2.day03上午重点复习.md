# day03上午重点复习

1. 路由跳转
   1. 声明式导航
      1. navigator组件(类似于router-link)
   2. 编程式导航
      1. wx.navigateTo
         1. **保留**当前页面实例
         2. 页面栈不能超过**十**层,旧版中不超过**五**层
      2. wx.redirectTo
         1. **关闭**当前页面实例
      3. url既可以是相对路径,也可以是绝对路径,相对路径参考当前js文件路径
2. 生命周期
   1. 一共有5个
      1. onLoad(页面加载,类似于created)
      2. onShow(页面显示,类似于activated(激活))
         1. 如果是通过wx.navigateTo离开当前页面,回退到当前页面的时候,会触发该生命周期,其他两个不执行
      3. onReady(页面首次渲染成功,类似于mounted(挂载结束))
      4. onHide(页面隐藏,类似于deactivated(失活))
         1. 如果是通过wx.navigateTo离开当前页面,会触发该生命周期,onUnload不会执行
      5. onUnload(页面卸载,类似于destroyed)
         1. 如果是通过wx.redirectTo离开当前页面,,会触发该生命周期,onHide不会执行
   2. 注意:生命周期图和实际效果略有区别
      1. 按照生命周期图上所描述,onLoad执行结束之后,才会将初始数据发送给view层,然而我们在onLoad中打断点,页面已经显示内容
3. 用户首次授权
   1. 实现点击按钮出现授权弹窗
      1. 通过button组件,设置标签属性open-type="getUserInfo"可以实现用户点击按钮出现弹窗
   2. 当用户点击允许之后,获取到用户的基本信息
      1. 通过绑定事件:**getuserinfo**,在该事件回调的实参中,可以获取到用户的详细信息(res.detail.userInfo)
      2. 注意:小程序中,所有事件名称都是小写,React中为了区分合成事件和原生事件,特地创造驼峰命名法的事件名
   3. 将用户基本信息存放到data中,在wxml中使用并展示
      1. 小程序中,在wxml中想要使用data中的数据,必须加上插值语法
      2. data中的数据**可以不在初始化阶段声明**,后续可以通过setData新增,但是不建议

