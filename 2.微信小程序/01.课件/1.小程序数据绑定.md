# 小程序数据绑定

1. 数据展示
   1. 语法:
      1. 在data对象中,直接声明数据
      2. 在wxml文件中,使用插值语法进行展示({{msg}})
      3. 小程序的data之所以可以写成对象形式,是因为他用JSON进行了深拷贝
   2. 数据流向
      1. Vue(类MVVM)
         1. 单向数据流
         2. 注意:双向数据绑定(v-model)
            1. 将data中的数据作为input框的默认值
               1. <input type="text" :value="msg"/>
            2. 当用户修改input框内的内容时,自动修改data中对应的属性值
               1. 监听input	->	事件input||change(Vue中默认是input事件)
               2. 在事件回调中,修改data的属性值   ->   function(event){this.msg=event.target.value}
      2. React
         1. 单向数据流
      3. 小程序
         1. 单向数据流
2. 数据修改(数据驱动)
   1. Vue
      1. 语法:this.msg="华华"
      2. this.msg="华华"  => 经过数据代理 => this._data.msg="华华" => 经过数据劫持 => 通过dep.notify()通知watcher进行视图更新
      3. Vue中,当数据发生变化之后,更新的最小单位是**组件**(由于Vue具有dep和watcher之间的映射关系,所以可以很轻松的找到需要更新的组件是哪几个)
      4. 问题一:Vue更新数据,data中的数据是否会被同步更新
         1. 是
      5. 问题二:Vue更新数据,页面节点是否会被同步更新
         1. 不会,Vue更新DOM是异步更新的
   2. React(他是一个持久化框架)
      1. 语法:this.setState({msg:"华华"})
      2. React中,当数据发生变化之后,更新的最小单位是**应用**
      3. 问题一:setState函数的执行是同步还是异步?
         1. 同步
      4. 问题二:setState函数更新state数据是同步更新还是异步更新
         1. 既不是同步,也不是异步,或者说即是同步,也是异步
         2. 同步更新和异步更新需要区分场景:
            1. 同步更新(react无关)
               1. 定时器
               2. 原生事件
            2. 异步更新(react相关)
               1. 合成事件
                  1. 如何区分合成事件还是原生事件?根据事件名判断,如果是驼峰命名法就是合成事件,全小写就是原生事件
                  2. 原生事件是亲儿子,合成事件是捡来的(触发速度原生事件更快)
                  3. 原因:原生事件绑定在你指定节点上,合成事件绑定在#root元素上
               2. 生命周期
         3. 问题三:React更新数据,页面节点是否会被同步更新
            1. React无论是同步更新数据还是异步更新数据,最终更新页面都是异步更新
   3. 小程序(也是一个持久化框架)
      1. 语法:this.setData({msg:"华华"})
      2. 注意:
         1. 小程序没有数据代理,小程序没有数据劫持
      3. 问题一:setData函数的执行是同步还是异步?
         1. 同步
      4. 问题二:setData函数更新state数据是同步更新还是异步更新
         1. **数据会被同步更新(!!!!!!,也就是说当你读取this.data上的数据,一定会得到当前最新值)**
      5. 问题三:小程序更新数据,页面节点是否会被同步更新
         1. 小程序更新页面都是**异步更新**

