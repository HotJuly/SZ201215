# 跨域相关

1. 问题一:什么是跨域
   1. 协议,域名,端口号如果都相同就是同源策略
   2. 当前网页所在服务器的协议,域名,端口号,如果和请求数据的协议,域名,端口号不相同,就是跨域
2. 问题二:跨域一定会报错吗
   1. 不一定
   2. 通过script,link,img标签跨域请求数据,不会出现跨域报错
   3. 服务器之间不存在跨域报错
3. 问题三:什么情况下会出现跨域问题
   1. 在浏览器上部分情况跨域会出现跨域问题
      1. 跨域问题其实是浏览器搞的鬼,是浏览器的安全机制
      2. 跨域问题是在响应回来的时候才会报错,请求是可以发送到服务器端的
   2. 发送ajax请求的时候
4. 问题四:哪些请求算是ajax请求(async javascript and xml)
   1. ajax是一种技术,不是一种请求
   2. 只有通过js代码发送http请求,才是ajax请求
5. 跨域解决方案
   1. jsonp
      1. 原理:实际上使用了script标签不会报跨域错误的原理
      2. 流程:
         1. 在前端页面中准备好一个用于接收数据的函数
         2. 创建script标签,src填写服务器端口,并将准备好的函数名称发送给服务器(注意是指发送函数名称getData)
         3. 服务器拼接字符串并返回("getData(数据)"),虽然返回回去的只是一个字符串,但是因为是script标签请求的,所以会自动当作js代码执行
   2. cors(跨域资源共享)
      1. 原理:因为跨域问题是浏览器搞的鬼,所以服务器可以告知浏览器,放行
      2. 流程:
         1. 服务器配置响应头属性
            1. Access-Control-Allow-Origin:"http://localhost:5000"告知浏览器该域名可以跨域请求我
   3. proxy

